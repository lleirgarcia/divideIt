version: '3.8'

# Example docker-compose file using Docker Secrets
# Copy this file and replace with actual secret values
# For Docker Swarm mode

services:
  backend:
    secrets:
      - backend_env
    environment:
      - NODE_ENV=production
    # ... other config

  frontend:
    secrets:
      - frontend_env
    environment:
      - NODE_ENV=production
    # ... other config

secrets:
  backend_env:
    external: true
    # Or use file:
    # file: ./secrets/backend.env
  frontend_env:
    external: true
    # Or use file:
    # file: ./secrets/frontend.env

# To create secrets in Docker Swarm:
# echo "PORT=3001" | docker secret create backend_env -
# echo "NEXT_PUBLIC_API_URL=http://backend:3001" | docker secret create frontend_env -
